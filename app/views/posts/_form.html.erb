<%= form_with(model: @post, id: "post-form", data: { action: "turbo:submit-end@document->modal#submitEnd"} ) do |form| %>
  <% if @post.errors.any? %>
    <div class="p-4 border border-red-600">
      <ul>
        <% @post.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="my-5 px-4">
    <%= form.label :title, class:"font-light" %>
    <%= form.text_field :title, class: "block shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2 w-full" %>
  </div>

  <div class="my-5 px-4">
    <%= form.label :body, class:"font-light" %>
    <%= form.text_area :body, class: "block shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2 h-48 w-full" %>
    <%= form.hidden_field :author_id, value: current_user.id %>
  </div>

  
  <%=  form.file_field :image, class:"ml-5 text-sm text-grey-500
    file:mr-5 file:py-2 file:px-6
    file:rounded-lg file:border-0
    file:text-sm file:font-medium
    file:bg-blue-50 file:text-blue-700
    hover:file:cursor-pointer hover:file:bg-blue-200
    text-gray-900 bg-gray-50 rounded-lg border border-gray-300 cursor-pointer
  "%>

  <div class="rounded-b mt-6 px-4 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense">
    <%= form.submit class: "w-full sm:col-start-2 bg-blue-600 px-4 py-2 mb-4 text-white rounded-sm hover:bg-blue-700" %>
    <button data-action="click->modal#close" class="mt-3 w-full sm:mt-0 sm:col-start-1 mb-4 bg-gray-100 hover:bg-gray-200 rounded-sm px-4 py-2">
      Cancel
    </button>
  </div>
<% end %>
